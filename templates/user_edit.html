{% extends "base.html" %}
{% block content %}
    <div>
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <ul class=flashes>
            {% for message in messages %}
              <p>{{ message }}</p>
            {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}
        <div class="col-sm-offset-1">
            <h3 id="login">{{login}}</h3>
        </div><br>
    	<form class="form-horizontal col-sm-offset-1" method="POST" action="/ofvujvy4x6r/pa3/user/edit" role="form">
            <div class="form-inline">
                <input type="hidden" name="op" value="changefirst">
                <input class="form-control" type="text" placeholder="First Name" name="firstname" required maxlength = "20">
                    <button class="btn btn-default col-sm-offset-0" type="submit">Change</button>
            </div>
        </form><br>
        <form class="form-horizontal col-sm-offset-1" method="POST" action="/ofvujvy4x6r/pa3/user/edit" role="form">
            <div class="form-inline">
                <input type="hidden" name="op" value="changelast">
                <input class="form-control" type="text" placeholder="Last Name" name="lastname" required maxlength = "20">
                <button class="btn btn-default col-sm-offset-0" type="submit">Change</button>
            </div>
        </form>
        <form class="form-horizontal col-sm-offset-1" method="POST" action="/ofvujvy4x6r/pa3/user/edit" role="form">
            <div class="form-inline">
                <input type="hidden" name="op" value="changeemail">
                <input class="form-control" type="text" placeholder="Email" name="email" maxlength = "20"required pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$">
                    <button class="btn btn-default col-sm-offset-0" type="submit">Change</button>
            </div>
        </form>
        <form id="passmatch" class="form-horizontal col-sm-offset-1" onSubmit="return passCheck()" method="POST" action="/ofvujvy4x6r/pa3/user/edit" role="form">
            <div class="form-inline">
                {% if pass_no_match %}
                    <p>Passwords did not match</p>
                {% endif %}
                <input type="hidden" name="op" value="changepass">
                <input id="pass" class="form-control" type="password" placeholder="Password" name="password" required pattern="^(?=.*\d)(?=.*[a-zA-Z]).{5,15}$" maxlength = "15">
                <input id="confirm" class="form-control" type="password" placeholder="Confirm Password" name="conpassword" required pattern="^(?=.*\d)(?=.*[a-zA-Z]).{5,15}$" maxlength = "15" onkeyup="Confirm_pass_match(); return false;">
                    <button class="btn btn-default col-sm-offset-0" type="submit">Change</button>
            </div>
        </form>
        <script> 
            // I just wanted to say I got parts of these functions 
            // online because I could not come with this on my own.

            function Confirm_pass_match()
            {
                //Store the password field objects into variables ...
                var pass1 = document.getElementById('pass');
                var pass2 = document.getElementById('confirm');
                //Set the colors we will be using ...
                var goodColor = "#66cc66";
                var badColor = "#ff6666";
                //Compare the values in the password field 
                //and the confirmation field
                if(pass1.value == pass2.value && pass1 != ""){
                    //The passwords match. 
                    //Set the color to the good color and inform
                    //the user that they have entered the correct password 
                    pass2.style.backgroundColor = goodColor;
                    message.style.color = goodColor;
                    
                }else{
                    //The passwords do not match.
                    //Set the color to the bad color and
                    //notify the user.
                    pass2.style.backgroundColor = badColor;
                    message.style.color = badColor;

                }
            } 
            function passCheck(){
                var pass1 = document.getElementById('pass').value;
                var pass2 = document.getElementById('confirm').value;
                if(pass1 == pass2 && pass1 != ""){
                    return true;
                }
                else{
                    alert("Passwords do not match. Please retry.");
                    document.getElementById('passmatch').reset();
                    return false;
                }
            }
        </script>        
        <form class="form-horizontal col-sm-offset-1" method="POST" action="/ofvujvy4x6r/pa3" role="form">
            <input type="hidden" name="op" value="delete"></input>
            <button class="btn btn-danger" type="submit">Delete Account</button>
        </form>
    </div>

<!--     <div class="container">
        <form class="form-horizontal" role="form">
            <div class="form-group">
                <div class="col-sm-10">
                    <label class="form-control-static">someone@example.com</label>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-1" for="pwd">Password:</label>
                <div class="col-sm-2">          
                    <input type="hidden" name="op" value="changefirst">
                    <input class="form-control" type="text" placeholder="First Name" name="firstname">
                </div>
            </div>
            <div class="form-group">        
                <div class="col-sm-offset-1 col-sm-10">
                    <button type="submit" class="btn btn-default">Submit</button>
                </div>
            </div>
        </form>
    </div> -->
{% endblock %}
